appId: com.testhelper.app
productName: Test Helper
directories:
  output: release
npmRebuild: false
electronUpdaterCompatibility: ">=2.16"
forceCodeSigning: false
files:
  - from: .
    filter:
      - package.json
      - "!**/node_modules/*/{CHANGELOG.md,README.md,README,readme.md,readme}"
      - "!**/node_modules/*/{test,__tests__,tests,powered-test,example,examples}"
  - packages/main/dist/**/*
  - packages/renderer/dist/**/*
  - por.traineddata
  # Incluir dependências nativas do Tesseract.js
  - node_modules/tesseract.js/**/*
  - node_modules/tesseract.js-core/**/*
  # Incluir dependências do Jimp
  - node_modules/@jimp/**/*
  - node_modules/jimp/**/*
asarUnpack:
  - "**/packages/main/dist/assets/**"
  # Desempacotar arquivos críticos do Tesseract (WebAssembly e workers)
  - "**/node_modules/tesseract.js/**/*.wasm"
  - "**/node_modules/tesseract.js/**/*.js"
  - "**/node_modules/tesseract.js-core/**/*"
  # Desempacotar binários do Jimp/Sharp
  - "**/node_modules/@jimp/**/*.node"
  - "**/node_modules/sharp/**/*.node"
extraResources:
  - from: por.traineddata
    to: por.traineddata
win:
  signAndEditExecutable: false
  target:
    - target: nsis
      arch:
        - x64
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  perMachine: false
  allowElevation: true
  createDesktopShortcut: always
  createStartMenuShortcut: true
  license: LICENSE
  deleteAppDataOnUninstall: false
  shortcutName: "Test Helper"
mac:
  icon: build/icon.icns
  target:
    - target: dmg
      arch:
        - x64
        - arm64
linux:
  icon: build/icon.png
  target:
    - target: AppImage
      arch:
        - x64

